{% extends 'base.html' %}

{% block content %}
<style>
    body {
        background-color: #0c0b0a;
        color: black;
    }

    .table {
        background-color: #FFA500;
        color: black;
    }

    .orange-text {
        color: #FFA500;
    }
    .navbar {
        background-color: #151514;
    }

    .navbar a {
        color: rgb(183, 125, 58);
        margin: 0 15px;
        text-decoration: none;
    }
</style>
<nav class="navbar">
    <div>
        <a href="{% url 'main:show_main' %}">Home</a>
    </div>
    <div>
        <a href="{% url 'main:create_product' %}">Add Item</a>
        <a href="{% url 'main:logout' %}">Logout</a>
    </div>
</nav>
<div class="container mt-5 text-orange">
    <h1 class="text-center orange-text">P01</h1>
    <h5 class="text-center orange-text">Inventory of {{ name }}</h5>

    <table class="table table-dark mt-4">
        <thead>
            <tr>
                <th scope="col ">Name</th>
                <th scope="col">Amount</th>
                <th scope="col">Price</th>
                <th scope="col">Description</th>
                <th scope="col">Category</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item.name }}</td>
                <td>
                    {{ item.amount }}
                    <form method="POST" action="{% url 'main:add_item_amount' item.id %}" class="d-inline">
                        {% csrf_token %}
                        <input type="hidden" name="item_id" value="{{ item.id }}">
                        <button type="submit" name="amount" value="add" class="btn btn-sm btn-warning">+</button>
                    </form>
                    <form method="POST" action="{% url 'main:reduce_item_amount' item.id %}" class="d-inline">
                        {% csrf_token %}
                        <input type="hidden" name="item_id" value="{{ item.id }}">
                        <button type="submit" name="amount" value="reduce" class="btn btn-sm btn-danger">-</button>
                    </form>
                </td>
                <td>{{ item.price }}</td>
                <td>{{ item.description }}</td>
                <td>{{ item.category }}</td>
                <td>
                    <a href="{% url 'main:edit_product' item.pk %}" class="btn btn-sm btn-warning">Edit</a>
                    <a href="{% url 'main:delete_product' item.pk %}" class="btn btn-sm btn-danger">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="mt-4">
        <a href="{% url 'main:create_product' %}" class="btn btn-warning mr-2">Add New Item</a>
        <a href="{% url 'main:logout' %}" class="btn btn-danger">Logout</a>
    </div>

    <h5 class="mt-4 orange-text">Last login: {{ last_login }}</h5>
</div>
{% endblock content %}